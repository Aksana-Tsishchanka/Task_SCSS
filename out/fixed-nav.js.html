<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: fixed-nav.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: fixed-nav.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Created by Aksana_Tsishchanka on 9/29/2015.
 */

var navOuter = document.querySelector('#about');
var nav =  document.querySelector(".about-nav");


addEventListener('scroll', function() {
    var bodyHeightScroll = document.body.scrollTop;
    console.log('windowScroll', bodyHeightScroll);

    if (nav.classList.contains('fixed-nav') &amp;&amp; bodyHeightScroll &lt; navOuter.offsetTop) {
        nav.classList.remove('fixed-nav');
    }
    else
        if (!nav.classList.contains('fixed-nav') &amp;&amp; bodyHeightScroll > navOuter.offsetTop) {
            nav.classList.add('fixed-nav');
        }
});

function startWith(input, data) {
    return new RegExp('^' + input).test(data);
}

document.addEventListener('click', function(event) {
    //debugger;
    event = event || window.event;

    var elFrom = event.target || event.srcElement;

    if (startWith('#', elFrom.getAttribute('href')) &amp;&amp; document.querySelector(elFrom.getAttribute('href'))) {

        event.preventDefault();

        var elTo = document.querySelector(elFrom.getAttribute('href'));
        var toY = elTo.getBoundingClientRect().top;
        //scrollChecking(fromY,toY, 100);
        scroll(toY, 100);
    }

}, false);


/**
 * Animate scrolling
 * @param to {number} - position of the destination relative to current viewport position
 * @param interspace {number} - number of segments, that split animation; 
 */
function scroll(to, interspaces) {
    var currentY = 0;   //relative Y to current viewport position
    var currentScrollPosition = document.body.scrollTop;   
    var step = to / interspaces;
    
    requestAnimationFrame(function animate() {
        currentY += step;
        currentScrollPosition += step
        document.body.scrollTop = currentScrollPosition;

        if (Math.abs(to - currentY) > 1) {
            requestAnimationFrame(animate);
        }
    });
}



function scrollChecking(fromY, toY, interspace) {
    var distance = toY - fromY;
    var step = distance / interspace;

    while (Math.abs(toY - document.body.scrollTop) >= 1) {
        document.body.scrollTop += step;
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#navOuter">navOuter</a></li><li><a href="global.html#scroll">scroll</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Sun Oct 25 2015 20:34:29 GMT+0300 (Belarus Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
